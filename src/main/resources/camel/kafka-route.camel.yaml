- route:
    id: customer-change-event-route
    from:
      uri: kafka:{{app.input-topic-name}}
      parameters:
        topicIsPattern: true
      steps:
        - filter:
            steps:
              - log:
                  message: "- Recieve Topic Message : ${body}"
              - unmarshal:
                  id: unmarshal-Json-to-Object
                  json:
                    unmarshalType: com.redhat.example.entity.KijitsuNyukinRequestEntity
              - process:
                  id: process-CardCheck
                  description: Card Number Check
                  ref: "#class:com.redhat.example.processor.CardCheckProcessor"
              - to:
                  id: to-Kafka
                  uri: kafka:{{app.output-topic-name}}
                  parameters: {}
            simple: ${body} != null
